databaseChangeLog:

  - changeSet:
      id: 1
      author: welisson
      changes:
        - createTable:
            tableName: CLIENT
            columns:
              - column:
                  name: ID
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: NAME
                  type: VARCHAR(255)
              - column:
                  name: EMAIL
                  type: VARCHAR(255)
              - column:
                  name: PHONE_NUMBER
                  type: VARCHAR(255)
              - column:
                  name: ADDRESS
                  type: VARCHAR(255)
  - changeSet:
      id: 2
      author: welisson
      changes:
        - createTable:
            tableName: ROLE
            columns:
              - column:
                  name: ID
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: AUTHORITY
                  type: VARCHAR(255)
  - changeSet:
      id: 3
      author: welisson
      changes:
        - createTable:
            tableName: CLIENT_ROLE
            columns:
              - column:
                  name: CLIENT_ID
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: ROLE_ID
                  type: BIGINT
                  constraints:
                    nullable: false
  - changeSet:
      id: 4
      author: welisson
      changes:
        - createTable:
            tableName: CUSTOMER_ORDER
            columns:
              - column:
                  name: ID
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: DESCRIPTION
                  type: VARCHAR(255)
              - column:
                  name: STATUS
                  type: VARCHAR(255)
              - column:
                  name: ORDER_DATE
                  type: TIMESTAMP
              - column:
                  name: CLIENT_ID
                  type: BIGINT
  - changeSet:
      id: 5
      author: welisson
      changes:
        - createTable:
            tableName: DELIVERY
            columns:
              - column:
                  name: ID
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: ADDRESS
                  type: VARCHAR(255)
              - column:
                  name: STATUS
                  type: VARCHAR(255)
              - column:
                  name: CLIENT_ID
                  type: BIGINT
  - changeSet:
      id: 6
      author: welisson
      changes:
        - createTable:
            tableName: DELIVERY_ORDERS
            columns:
              - column:
                  name: DELIVERY_ID
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: ORDER_ID
                  type: BIGINT
                  constraints:
                    nullable: false
  - changeSet:
      id: 7
      author: welisson
      changes:
        - addPrimaryKey:
            columnNames: ID
            constraintName: INTEG_379333
            tableName: CLIENT
  - changeSet:
      id: 8
      author: welisson
      changes:
        - addPrimaryKey:
            columnNames: ID
            constraintName: INTEG_381333
            tableName: CUSTOMER_ORDER
  - changeSet:
      id: 81
      author: welisson
      changes:
        - addPrimaryKey:
            columnNames: ID
            constraintName: INTEG_396333
            tableName: ROLE
  - changeSet:
      id: 9
      author: welisson
      changes:
        - addPrimaryKey:
            columnNames: ID
            constraintName: INTEG_384333
            tableName: DELIVERY
  - changeSet:
      id: 10
      author: welisson
      changes:
        - addPrimaryKey:
            columnNames: DELIVERY_ID, ORDER_ID
            constraintName: INTEG_388333
            tableName: DELIVERY_ORDERS
  - changeSet:
      id: 11
      author: welisson
      changes:
        - addPrimaryKey:
            columnNames: CLIENT_ID, ROLE_ID
            constraintName: INTEG_391333
            tableName: CLIENT_ROLE
  - changeSet:
      id: 12
      author: welisson
      changes:
        - createIndex:
            indexName: RDB$FOREIGN139
            tableName: CUSTOMER_ORDER
            unique: false
            columns:
              - column:
                  name: CLIENT_ID
  - changeSet:
      id: 13
      author: welisson
      changes:
        - createIndex:
            indexName: RDB$FOREIGN141
            tableName: DELIVERY
            unique: true
            columns:
              - column:
                  name: CLIENT_ID
  - changeSet:
      id: 14
      author: welisson
      changes:
        - createIndex:
            indexName: RDB$FOREIGN142
            tableName: CUSTOMER_ORDER
            unique: false
            columns:
              - column:
                  name: CLIENT_ID
  - changeSet:
      id: 15
      author: welisson
      changes:
        - createIndex:
            indexName: RDB$FOREIGN143
            tableName: DELIVERY_ORDERS
            unique: false
            columns:
              - column:
                  name: DELIVERY_ID
  - changeSet:
      id: 16
      author: welisson
      changes:
        - createIndex:
            indexName: RDB$FOREIGN144
            tableName: DELIVERY_ORDERS
            unique: false
            columns:
              - column:
                  name: ORDER_ID
  - changeSet:
      id: 17
      author: welisson
      changes:
        - createIndex:
            indexName: RDB$FOREIGN145
            tableName: CLIENT_ROLE
            unique: false
            columns:
              - column:
                  name: CLIENT_ID
  - changeSet:
      id: 18
      author: welisson
      changes:
        - createIndex:
            indexName: RDB$FOREIGN146
            tableName: CLIENT_ROLE
            unique: false
            columns:
              - column:
                  name: ROLE_ID
  - changeSet:
      id: 19
      author: welisson
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: CLIENT_ID
            baseTableName: CUSTOMER_ORDER
            constraintName: INTEG_382333
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: ID
            referencedTableName: CLIENT
  - changeSet:
      id: 20
      author: welisson
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: CLIENT_ID
            baseTableName: DELIVERY
            constraintName: INTEG_385333
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: ID
            referencedTableName: CLIENT
  - changeSet:
      id: 21
      author: welisson
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: DELIVERY_ID
            baseTableName: DELIVERY_ORDERS
            constraintName: INTEG_389333
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: ID
            referencedTableName: DELIVERY
  - changeSet:
      id: 22
      author: welisson
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: ORDER_ID
            baseTableName: DELIVERY_ORDERS
            constraintName: INTEG_390333
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: ID
            referencedTableName: CUSTOMER_ORDER
  - changeSet:
      id: 23
      author: welisson
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: CLIENT_ID
            baseTableName: CLIENT_ROLE
            constraintName: INTEG_392333
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: ID
            referencedTableName: CLIENT
  - changeSet:
      id: 24
      author: welisson
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: ROLE_ID
            baseTableName: CLIENT_ROLE
            constraintName: INTEG_393333
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: ID
            referencedTableName: ROLE
  - changeSet:
      id: 25
      author: welisson
      changes:
        - sql:
            sql: |
              CREATE GENERATOR client_seq;
              SET GENERATOR client_seq TO 0;
  - changeSet:
      id: 26
      author: welisson
      changes:
        - sql:
            endDelimiter: ;
            splitStatements: false
            stripComments: true
            sql: |
              CREATE TRIGGER client_bir FOR client
              ACTIVE BEFORE INSERT POSITION 0
              AS
              BEGIN
                  IF (NEW.id is NULL) THEN BEGIN:
                    NEW.id = gen_id(client_seq, 1);
                  END
              END
  - changeSet:
      id: 27
      author: welisson
      changes:
        - sql:
            sql: |
              CREATE GENERATOR order_seq;
              SET GENERATOR order_seq TO 0;
  - changeSet:
      id: 28
      author: welisson
      changes:
        - sql:
            endDelimiter: ;
            splitStatements: false
            stripComments: true
            sql: |
              CREATE TRIGGER order_bir FOR customer_order
              ACTIVE BEFORE INSERT POSITION 0
              AS
              BEGIN
                  IF (NEW.id is NULL) THEN BEGIN:
                    NEW.id = GEN_ID(order_seq, 1);
                  END
              END
  - changeSet:
      id: 29
      author: welisson
      changes:
        - sql:
            sql: |
              CREATE GENERATOR delivery_seq;
              SET GENERATOR delivery_seq TO 0;
  - changeSet:
      id: 30
      author: welisson
      changes:
        - sql:
            endDelimiter: ;
            splitStatements: false
            stripComments: true
            sql: |
              CREATE TRIGGER delivery_bir FOR delivery
              ACTIVE BEFORE INSERT POSITION 0
              AS
              BEGIN
                  IF (NEW.id is NULL) THEN BEGIN:
                    NEW.id = GEN_ID(delivery_seq, 1);
                  END
              END
  - changeSet:
      id: 31
      author: welisson
      changes:
        - insert:
            tableName: CLIENT
            columns:
              - column:
                  name: ID
                  value: 1
              - column:
                  name: NAME
                  value: ADMIN
              - column:
                  name: EMAIL
                  value: ADMIN@EMAIL.COM
              - column:
                  name: PHONE_NUMBER
                  value: 12 123451234
              - column:
                  name: ADDRESS
                  value: UM ENDEREÇO QUALQUER
        - insert:
            tableName: ROLE
            columns:
              - column:
                  name: ID
                  value: 1
              - column:
                  name: AUTHORITY
                  value: ADMIN
        - insert:
            tableName: ROLE
            columns:
              - column:
                  name: ID
                  value: 2
              - column:
                  name: AUTHORITY
                  value: CLIENT
        - insert:
            tableName: CLIENT_ROLE
            columns:
              - column:
                  name: CLIENT_ID
                  value: 1
              - column:
                  name: ROLE_ID
                  value: 1
        - insert:
            tableName: CLIENT_ROLE
            columns:
              - column:
                  name: CLIENT_ID
                  value: 1
              - column:
                  name: ROLE_ID
                  value: 2
  - changeSet:
      id: 32
      author: welisson
      changes:
        - insert:
            tableName: CLIENT
            columns:
              - column:
                  name: ID
                  value: 2
              - column:
                  name: NAME
                  value: CLIENT
              - column:
                  name: EMAIL
                  value: CLIENT@EMAIL.COM
              - column:
                  name: PHONE_NUMBER
                  value: 12 123451234
              - column:
                  name: ADDRESS
                  value: OUTRO ENDEREÇO QUALQUER
        - insert:
            tableName: CLIENT_ROLE
            columns:
              - column:
                  name: CLIENT_ID
                  value: 2
              - column:
                  name: ROLE_ID
                  value: 2
  - changeSet:
      id: 33
      author: welisson
      changes:
        - sql:
            sql: |
              SET GENERATOR client_seq TO 2;